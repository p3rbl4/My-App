***Следующие папки могут быть смонтированы как отдельные разделы жёсткого диска***
- / - корневая файловая система, самый большой раздел
- /boot - загрузочный раздел
- /home - домашние папки пользователей, папка в которой хранятся все папки пользователей. Можно монтировать как сетевую папку и работать с перемещающими пользователями 
- /root - домашняя папка суперпользователя
- /etc - конфигурация нашей системы и её компоненты
- /opt - папка для ПО от третьих поставщиков 
- /var - часто меняющиеся данные
- /usr - все установленные пакеты программ, документация, исходный код ядра
- /tmp - временные файлы
- /proc - предоставляет информацию о системе
- /lib - содержит библиотеки, совместно используемые программами из /bin и /sbin 
- SWAP - файл подкачки, никуда не монтируется

# FDISK - не понимает GPT!!! 

**Как правило, мы можем создать только 4 раздела на жёстком диске и обычно это 3 основых раздела и 1 расширенный, в котором уже любое количество логических разделов**
Основной - primary
Расширеный - extended 
![[Pasted image 20230319225046.png]]
Sda1 - Sda4 зарезервированы для основных разделов 
Fdisk - утилита разбиения жёсткого диска
Mkfs - утилита создания файловой системы

swapon и swapoff - команды для работы с разделом подкачки
**/etc/fstab** - конфигурационный файл, отвечающий за монтирование файловой системы
mkswap - утилита создания раздела или файла подкачки

# Работа с пустым, не смонтированным диском

1. fdisk /dev/sda (указываем диск который хотим разбить)
>n - Добавление нового раздела
>p - primary 
>По умолчанию
>Первый сектор не трогаем 
>Последний сектор, выбираем на какой объём необходимо разметить размер, +2G или +200Mi
>w - записываем изменения

2. Форматируем раздел и размечаем файловую смстему
mkfs.ext4 /dev/sda1 (указываем раздел который нужно разметить)
Для того, чтобы раздел монтировался при старте системы, необходимо создать папку для этого раздела. Как правило в /mnt и прописать похожую строчку в /etc/fstab

```bash
/dev/sda2 /mnt/dir ext4 defaults
```

# Совмещение разделов на разных ОС
Допустим есть желание чтобы какой-то из разделов жёсткого диска был размечен файловой системой которую поддерживает Windows. 
Windows поддерживает **NTFS** **FAT32** 
Какой-то универсальной НЕ проприетарной файловой системы нету, а может и есть надо почитать. Поэтому если хотим сделать один раздел для Windows, то просто используем команду 
```bash
mkfs.ntfs /dev/sdb2
```

# Работа с GPT 
Для разбиения диска на GPT разделы можно использовать утилиту **gdisk** котороая работает также как и **fdisk**, но также можно использовать **parted** или c графикой gparted

# Как записать образ диска на USB-носитель 
Командой **dd**
dd if=~/ваш_образ.iso of=/dev/sdc bs=5M

# Монтирование и демонтирование файловых систем

Для выполнения данных действий необходимы следующие утилиты
- **mount и umount**
Для настройки автоматического подключения жёсткого диска к файловой системе используется файл
**/etc/fstab** - конфигурационный файл, отвечающий за монтирование файловой системы
Следующая запись является структурой для файла /etc/fstab
```bash
устройство точка_монтирования типо_файловой_системы параметры dump pass
```
Как хорошее правило тона, все файловые системы монтируются в папку **/mnt** , а все съёмные носители в папку **/media**


[[Linux]] [[dd]] [[Файловые системы]]
#Работасдисками 