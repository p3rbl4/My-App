***Профили***
![[Pasted image 20221211183009.png]]
***/etc/profle*** - грузит файл bash.bashrc и затем выполняет из папки /etc/profile.d все .sh скрипты 
***bash.bashrc*** - определяет поведение командой строки, запускает различные настройки для всех пользователей 
***/etc/profile.d*** - в ней находятся различные скрипты которые отрабатывают при запуске оболочки
Один из 3 файлов левого столбца находится в домашней папке пользователя и запускате скрипты под каждого пользователя 
в ***~/.profile*** находится ***/.bashrc*** в котором находятся настройки контректного пользователя 
***~/.bash_logout*** используется при выходе пользователя из системы 
***/etc/skelet*** в ней находятся файлы по умолчанию, которые добавляются каждому новому пользователю 

***Псевдонимы и функции***
***Псевдоним (alias)*** - текст для вызова команды с ключами
**Псевдонимы (aliases) для отдельных пользователей чаще всего размещаются в файле конфигурации ~/.** **bashrc, а общесистемные псевдонимы — в файле конфигурации /etc/profile**.
***Функция (function)*** - текст для вызова скрипта из нескольких команд 
Пример: 
function WTF() {
echo "your name is:";
whoami;
echo "today is:";
date;
echo "you are here:";
pwd;
}
***Аргументы для функции***
![[Pasted image 20221211183043.png]]
showlog semaev ($1) 3 ($2) /var/log/auth.log ($3)
цифры в $ означают аргументы 
![[Pasted image 20221214133002.png]]


***Переменные***
Переменные - работают в пределах текущей оболочки 
Переменные среды - работают так же во всех дочерних процессах
Переменная PATH - это перменная окружения, определяет пути по которым система ищет исполняемые файлы, чтобы добавить папку в переменную PATH необходимо выполнить: PATH=$PATH:путь к папке и после export PATH 
Создание переменной:
x=$(date)
y=`uptime -p`

***Работа с Bash-скриптами***
Синтаксис и команды
#!/bin/bash - начало любого скрипта 
SUID - бит запуска от имени владельца 

***Программа test, проверяет файлы на наличие различных свойств***
![[Pasted image 20221212140438.png]]
***КЛЮЧИ***
-f - проверяет существует ли файл 

пример:
test -x имя_файла 
echo $? 
или 
["text" = "test"] | echo $? 
![[Pasted image 20221212142128.png]]***-gt*** - больше 
![[Pasted image 20221212142449.png]]
&& - если условие справедливо 
|| - если условие не справедливо 
![[Pasted image 20221212142907.png]]

***Условные выражения и подстановка команд***
Структура скрипта (условное выражение)
![[Pasted image 20221212143156.png]]
![[Pasted image 20221216150223.png]]
Команда read использутся когда нужно вводить когда мы ждём ответа от пользователя 
***Чтобы случайно не нажать enter, необходимо использовать ключ -d ";" к read, где концом строки будет именно точка с запятой.***
Либо использовать функцию

***Циклы (Loop)*** 
Цикл ***FOR (для)***
Цикл ***WHILE (до)***
![[Pasted image 20221212155644.png]]
![[Pasted image 20221212160603.png]]
![[Pasted image 20221212160957.png]]
![[Pasted image 20221212161612.png]]
```bash
for i in {1..25}; do
    if (( i % 2 == 1 )); then
        # выполнение действий для нечетных значений i
        echo $i
    fi
done
```
i берёт значение нечётного числа через одно

[[Linux]] [[системное администрирование]] 
#Linux #Bash

